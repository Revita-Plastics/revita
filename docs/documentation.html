<!doctype html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ReVita — Technische documentatie</title>
    <style>
      :root{--bg:#f8fafc;--card:#fff;--muted:#64748b;--accent:#6366f1}
      body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial;margin:0;background:var(--bg);color:#0f172a}
      .wrap{max-width:1100px;margin:28px auto;padding:28px}
      .card{background:var(--card);border-radius:12px;padding:20px;box-shadow:0 6px 20px rgba(2,6,23,.06);margin-bottom:18px}
      h1{margin:0 0 6px}h2{margin-top:12px}
      pre{background:#0b1220;color:#e6eef7;padding:12px;border-radius:8px;overflow:auto}
      code{background:#f1f5f9;padding:2px 6px;border-radius:6px}
      .muted{color:var(--muted)}
      .grid{display:grid;grid-template-columns:1fr 320px;gap:16px}
      .sidebar{position:sticky;top:24px}
      a.btn{display:inline-block;background:var(--accent);color:#fff;padding:8px 12px;border-radius:8px;text-decoration:none}
      details{margin:8px 0}
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="card">
        <h1>ReVita — Technische documentatie</h1>
        <p class="muted">Diepgaande technische uitleg van de projectstructuur, build pipeline, TypeScript-configuratie, assets handling en CI/CD. Gericht op ontwikkelaars en technisch ingestelde gebruikers.</p>
      </div>

      <div class="grid">
        <main class="card">
          <h2>1. Project overzicht</h2>
          <p>Dit project is een eenvoudige React-app gebouwd met Vite (TypeScript/TSX). De belangrijkste doelen van deze documentatie:</p>
          <ul>
            <li>Uitleg van mappen en bestanden</li>
            <li>Hoe je ontwikkelomgeving instelt</li>
            <li>Hoe assets (afbeeldingen) correct te gebruiken</li>
            <li>Build & deployment details (GitHub Pages)</li>
            <li>Praktische voorbeelden: tsconfig, vite.config, CI</li>
          </ul>

          <h2>2. Bestandsstructuur (belangrijkste bestanden)</h2>
          <pre>
project/
├─ index.html                # root HTML template
├─ package.json              # scripts + dependencies
├─ vite.config.ts           # Vite config (base, alias, outDir)
├─ tsconfig.json (optioneel) # TypeScript config
├─ src/
│  ├─ main.tsx               # entrypoint
│  ├─ App.tsx                # app + product data
│  ├─ images/                # lokale afbeeldingen (importeren vanuit TS)
│  └─ components/            # UI components (Gallery, Detail, Navigation...)
└─ docs/
   └─ documentation.html     # (deze file)
          </pre>

          <h2>3. Lokale ontwikkelstappen</h2>
          <p>Aanname: je hebt Node.js en Git geïnstalleerd.</p>
          <pre>
# éénmalig
npm install

# development server
npm run dev

# build voor productie
npm run build

# publiceer (configuratie in package.json)
npm run deploy
          </pre>

          <h2>4. Werken met afbeeldingen / assets</h2>
          <p>Er zijn twee aanbevolen manieren om afbeeldingen te gebruiken in Vite:</p>
          <ol>
            <li><strong>Importeren vanuit <code>/src</code></strong>: handig wanneer je wilt dat Vite het bestand verwerkt en naar build/assets kopieert. Voorbeeld:</li>
          </ol>
          <pre>
// src/App.tsx
import MijnPot from './images/mijn-pot.webp'

const products = [
  { id:1, name:'Plantenpot', image: MijnPot }
]
          </pre>
          <p>Voordeel: Vite retourneert een hashed URL en zorgt voor caching en optimalisatie.</p>

          <ol start="2">
            <li><strong>Public folder</strong>: plaats bestanden in <code>public/</code> en verwijs met een absolute pad (<code>/images/foo.jpg</code>). Deze bestanden worden 1-op-1 gekopieerd naar de build-output.</li>
          </ol>

          <h2>5. TypeScript & declaraties (images import)</h2>
          <p>Omdat we afbeeldingen importeren in TypeScript, is het handig om module-declaraties toe te voegen zodat de compiler en editor geen fouten tonen.</p>
          <pre>
// src/custom.d.ts
declare module '*.png'
declare module '*.jpg'
declare module '*.webp'
declare module '*.svg' {
  const src: string
  export default src
}
          </pre>
          <p>Als je nog geen <code>tsconfig.json</code> hebt, voeg een minimale versie toe:</p>
          <pre>
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "ESNext",
    "jsx": "react-jsx",
    "moduleResolution": "bundler",
    "esModuleInterop": true,
    "skipLibCheck": true,
    "strict": false,
    "baseUrl": "./"
  },
  "include": ["src"]
}
          </pre>

          <h2>6. Vite-configuratie (belangrijk voor GitHub Pages)</h2>
          <p>Open <code>vite.config.ts</code>. Belangrijke opties:</p>
          <pre>
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  base: '/revita/',   // pas aan als je repo-naam anders is
  plugins: [react()],
  build: { outDir: 'build' }
})
          </pre>
          <p>De <code>base</code> zorgt dat alle asset-URLs correct verwijzen wanneer je site op <code>https://<user>.github.io/<repo>/</code> staat.</p>

          <h2>7. package.json scripts</h2>
          <pre>
{
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "predeploy": "npm run build",
    "deploy": "gh-pages -d build"
  }
}
          </pre>
          <p>Hier gebruikt het project <code>gh-pages</code> om de inhoud van <code>build</code> naar de <code>gh-pages</code>-branch te publiceren.</p>

          <h2>8. GitHub Actions: automatisch bouwen & publiceren</h2>
          <p>Voorbeeldworkflow (plaats in <code>.github/workflows/deploy.yml</code>):</p>
          <pre>
name: Deploy to GitHub Pages

on:
  push:
    branches: [ main ]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Use Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18'
      - run: npm ci
      - run: npm run build
      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./build
          publish_branch: gh-pages
          user_name: 'revitabot'
          user_email: 'deploy@revita.local'
          
          </pre>
          <p>Deze workflow bouwt de site en publiceert de <code>build</code>-map naar de <code>gh-pages</code>-branch op elke push naar <code>main</code>.</p>

          <h2>9. Veel voorkomende problemen & oplossingen</h2>
          <details>
            <summary>Afbeelding wordt niet geladen</summary>
            <div>
              <p>Controleer of je afbeelding in <code>src/images</code> staat en dat je hem importeert in TypeScript/TSX. Als je absolute paths gebruikt (zoals <code>/images/foo.jpg</code>) zet de afbeelding dan in <code>public</code>.</p>
            </div>
          </details>

          <details>
            <summary>TypeScript geeft importfouten voor afbeeldingen</summary>
            <div>
              <p>Maak/verifieer <code>src/custom.d.ts</code> met de module-declaraties. Herstart de editor indien nodig.</p>
            </div>
          </details>

          <details>
            <summary>Build werkt lokaal maar assets 404 op GitHub Pages</summary>
            <div>
              <p>Controleer dat <code>vite.config.ts</code> een juiste <code>base</code> heeft (bijv. <code>/revita/</code> voor repo <code>revita</code>), en dat je build-output gepubliceerd is naar <code>gh-pages</code> of de juiste Pages branch.</p>
            </div>
          </details>

          <h2>10. Aanbevolen developer workflow</h2>
          <ol>
            <li>Maak een feature branch: <code>git checkout -b feat/add-product</code></li>
            <li>Voeg afbeelding toe in <code>src/images</code> en importeer in <code>App.tsx</code></li>
            <li>Run <code>npm run dev</code> en test in browser</li>
            <li>Commit & push, maak PR naar main</li>
          </ol>

          <h2>11. Extra nuttige snippets</h2>
          <h3>Minimal tsconfig.json</h3>
          <pre>
{
  "compilerOptions": {
    "target":"ES2020",
    "module":"ESNext",
    "jsx":"react-jsx",
    "moduleResolution":"bundler",
    "skipLibCheck":true
  },
  "include":["src"]
}
          </pre>

          <h3>Vite production build check</h3>
          <pre>
npm run build && ls build
          </pre>

          <h2>12. Contact / vervolgstappen</h2>
          <p>Wil je dat ik:</p>
          <ul>
            <li>deze doc ook als `README.md` toevoeg?</li>
            <li>de GitHub Action daadwerkelijk maak en commit?</li>
            <li>tsconfig.json en custom.d.ts toevoeg en commit?</li>
          </ul>
        </main>

        <aside class="sidebar">
          <div class="card">
            <h3>Snelle links</h3>
            <ul>
              <li><code>src/App.tsx</code> — productdata & imports</li>
              <li><code>src/images/</code> — plaats hier eigen foto's</li>
              <li><code>vite.config.ts</code> — check <code>base</code></li>
              <li><code>package.json</code> — scripts</li>
            </ul>
          </div>

          <div class="card">
            <h3>Commands</h3>
            <pre>npm ci
npm run dev
npm run build
npm run deploy</pre>
          </div>

          <div class="card">
            <h3>Quick fixes</h3>
            <ul>
              <li>Editor herstarten bij types/bundler issues</li>
              <li>Verifieer <code>base</code> in <code>vite.config.ts</code></li>
              <li>Gebruik <code>gh-pages</code> of Actions om te publiceren</li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
  </body>
</html>
